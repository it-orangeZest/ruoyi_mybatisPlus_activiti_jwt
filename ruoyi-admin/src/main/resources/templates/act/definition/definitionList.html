<!DOCTYPE html>
<html lang="zh" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
<head>
    <th:block th:include="include :: header('全部流程')" />
</head>
<body class="gray-bg">
<div class="container-div" style="padding: 20px 28px;">
    <div class="row">
        <div class="col-sm-4" th:each="df : ${definitionList}" th:onclick="$.modal.openTab([[${df.getName()}]],[['/act/instanceList?key='+${df.getKey()}]])">
            <div class="ibox">
                <div class="ibox-title">
                    <h5 th:text="${df.getName()}"></h5>
                </div>
                <div class="ibox-content" style="height: 200px;display: flex;align-items: center;justify-content: center;">
                    <img class="act_png" src="" th:data-pdid="${df.getId()}" th:data-png="${df.getDiagramResourceName()}" style="width: auto;height: auto;max-width: 100%;max-height: 100%;">
                </div>
            </div>
        </div>
    </div>
</div>
<th:block th:include="include :: footer" />
<script th:inline="javascript">

    $(function(){
        var arr = $(".act_png");
        for(var i=0 ; i<arr.length ; i++){
            var current = arr[i];
            var pdid = $(current).data("pdid");
            var png = $(current).data("png");
            $(current).attr("src", "/act/processDefinition/readResource?pdid="+pdid+"&resourceName="+png);
        }
    })

    function golist(key){
        alert(key);
    }
</script>
</body>
</html>